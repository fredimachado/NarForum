@inherits LayoutComponentBase

<div class="page h-100">
    @* <div class="sidebar">
        <NavMenu />
    </div> *@

    <main>

         <TopNavMenu />

@*         <div class="top-row px-4">
            <a href="https://learn.microsoft.com/aspnet/core/" target="_blank">About</a>
        </div> *@

        <div class="container custom-container">
            <div class="row">
@*                 <div class="col-sm-2">
                    
                </div> *@
                <div class="col-sm-9">
                    <article>
                        <ErrorBoundary Context="exception" @ref="_errorBoundary">
                            <ChildContent>
                                @Body
                            </ChildContent>
                            <ErrorContent>
                                @if ((exception as BlazorUI.Services.Base.ApiException).StatusCode == 401)
                                {
                                    <BlazorUI.Pages.ErrorPages.Page401></BlazorUI.Pages.ErrorPages.Page401>
                                }
                                else if ((exception as BlazorUI.Services.Base.ApiException).StatusCode == 500)
                                {
                                    <BlazorUI.Pages.ErrorPages.Page500></BlazorUI.Pages.ErrorPages.Page500>
                                }
                                else if ((exception as BlazorUI.Services.Base.ApiException).StatusCode == 204)
                                {
                                    <BlazorUI.Pages.ErrorPages.Page204></BlazorUI.Pages.ErrorPages.Page204>
                                }
                                else
                                {
                                    <p class="fw-bold text-danger">@exception.Message</p>
                                }
                            </ErrorContent>
                        </ErrorBoundary>
                    </article>
                    <ConsentCookie/>
                </div>
                 <div class="col-sm-3 sidebar-container">
                     <SideBar></SideBar>
                </div>
            </div>
            
        </div>
        <Footer></Footer>
    </main>
</div>


@code {
    private ErrorBoundary? _errorBoundary;

    protected override void OnParametersSet()
    {
        _errorBoundary?.Recover();
    }
}